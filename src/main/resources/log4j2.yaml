Configuration:
  properties:
    property:
        - name: LOG_PATH_VAR
          value: ${env:SEGUE_LOGGING_PATH:-${sys:log.path:-/isaac-logs}}
        - name: CONSOLE_LOGGING_LEVEL
          value: ${env:SEGUE_LOGGING_LEVEL:-info}

  Appenders:
    Console:
      - name: Console_Appender
        target: SYSTEM_OUT
        PatternLayout:
          pattern: "[%d{yyyy-MM-dd HH:mm:ss}] [%-5p] %c{1}:%L - %m%n"

    RollingFile:
      - name: Isaac_Appender
        fileName: ${LOG_PATH_VAR}/isaac.log
        filePattern: ${LOG_PATH_VAR}/isaac.log.%d{yyyy-MM-dd}.gz
        Policies:
          TimeBasedTriggeringPolicy:
            interval: 10
        PatternLayout:
          pattern: "[%d{yyyy-MM-dd HH:mm:ss}] [%-5p] %c{1}:%L - %m%n"

      - name: Perf_Appender
        fileName: ${LOG_PATH_VAR}/perf.log
        filePattern: ${LOG_PATH_VAR}/perf.log.%d{yyyy-MM-dd}.gz
        Policies:
          TimeBasedTriggeringPolicy:
            interval: 10
        PatternLayout:
          pattern: "[%d{yyyy-MM-dd HH:mm:ss}] [%-5p] %m%n"

  Loggers:
      Root:
        level: ${CONSOLE_LOGGING_LEVEL}
        AppenderRef:
          - ref: Console_Appender

      Logger:
        - name: uk.ac.cam.cl.dtg
          level: ${CONSOLE_LOGGING_LEVEL}
          AppenderRef:
            - ref: Isaac_Appender

        - name: uk.ac.cam.cl.dtg.segue.api.monitors.PerformanceMonitor
          level: warn
          AppenderRef:
            - ref: Perf_Appender